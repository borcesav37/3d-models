<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Ti≈ü√∂rt Tasarƒ±m St√ºdyosu</title>
    <link rel="icon" href="data:,">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Ana uygulama kapsayƒ±cƒ±sƒ±. T√ºm uygulama i√ßeriƒüini izole etmek i√ßin kullanƒ±lƒ±r. -->
    <div class="mydesigner-wrapper">
        <!-- Tasarƒ±m konteyneri: Sol panel, 3D model alanƒ± ve saƒü paneli i√ßeren ana d√ºzen. -->
        <div class="designer-container">
            <!-- Sol Panel: Tasarƒ±m y√ºkleme, arka plan, animasyon ve ti≈ü√∂rt rengi se√ßenekleri. -->
            <div class="left-panel">
                <div class="panel-section">
                    <h3 class="section-title">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                        </svg>
                        Tasarƒ±m Y√ºkle
                    </h3>
                    <label for="uploadInput" class="sr-only">Tasarƒ±m dosyasƒ± y√ºkle</label>
                    <input type="file" id="uploadInput" accept="image/*" multiple style="display: none;" aria-label="Tasarƒ±m dosyasƒ± se√ß">
                    <button class="upload-design-btn" onclick="document.getElementById('uploadInput').click()" aria-label="Tasarƒ±m dosyasƒ± y√ºkle">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"/>
                        </svg>
                        Tasarƒ±m Y√ºkle
                    </button>
                </div>

                <div class="panel-section">
                    <h3 class="section-title">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                        </svg>
                        Arka Plan
                    </h3>
                    <div class="bg-options">
                        <div class="bg-option bg-solid active" style="--bg-color: #e5e7eb;" data-bg="solid" data-color="#e5e7eb"></div>
                        <div class="bg-option bg-solid" style="--bg-color: #1f2937;" data-bg="solid" data-color="#1f2937"></div>
                        <div class="bg-option bg-solid" style="--bg-color: #3b82f6;" data-bg="solid" data-color="#3b82f6"></div>
                        <div class="bg-option bg-gradient" style="--bg-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);" data-bg="gradient" data-gradient="linear-gradient(135deg, #667eea 0%, #764ba2 100%)"></div>
                        <div class="bg-option bg-gradient" style="--bg-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);" data-bg="gradient" data-gradient="linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"></div>
                        <div class="bg-option bg-gradient" style="--bg-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);" data-bg="gradient" data-gradient="linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"></div>
                    </div>
                </div>

                <div class="panel-section">
                    <h3 class="section-title">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12 6 12 12 16 14"/>
                        </svg>
                        Animasyon
                    </h3>
                    <div class="animation-controls">
                        <button class="animation-btn active" data-animation="rotate">
                            <span>D√∂nd√ºr</span>
                            <span>‚Üª</span>
                        </button>
                        <button class="animation-btn" data-animation="walk">
                            <span>Y√ºr√º</span>
                            <span>üö∂</span>
                        </button>
                        <button class="animation-btn" data-animation="wave">
                            <span>Dalgalan</span>
                            <span>„Ä∞Ô∏è</span>
                        </button>
                        <button class="animation-btn" data-animation="none">
                            <span>Animasyon Yok</span>
                            <span>‚è∏Ô∏è</span>
                        </button>
                    </div>
                </div>

                <div class="panel-section">
                    <h3 class="section-title">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="10" r="3"/>
                            <path d="M12 13c-4.97 0-9 2.686-9 6v2h18v-2c0-3.314-4.03-6-9-6z"/>
                        </svg>
                        Ti≈ü√∂rt Rengi
                    </h3>
                    <div class="color-grid">
                        <div class="color-option active" style="background: #ffffff; border: 1px solid #e5e7eb;" data-color="#ffffff"></div>
                        <div class="color-option" style="background: #000000;" data-color="#000000"></div>
                        <div class="color-option" style="background: #ef4444;" data-color="#ef4444"></div>
                        <div class="color-option" style="background: #3b82f6;" data-color="#3b82f6"></div>
                        <div class="color-option" style="background: #10b981;" data-color="#10b981"></div>
                        <div class="color-option" style="background: #f59e0b;" data-color="#f59e0b"></div>
                        <div class="color-option" style="background: #8b5cf6;" data-color="#8b5cf6"></div>
                        <div class="color-option" style="background: #ec4899;" data-color="#ec4899"></div>
                        <div class="color-option" style="background: #6366f1;" data-color="#6366f1"></div>
                        <div class="color-option" style="background: #14b8a6;" data-color="#14b8a6"></div>
                        <div class="color-option" style="background: #f97316;" data-color="#f97316"></div>
                        <div class="color-option" style="background: #6b7280;" data-color="#6b7280"></div>
                    </div>
                </div>

                <div class="panel-section">
                    <button class="export-btn" onclick="exportDesign()">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"/>
                        </svg>
                        Tasarƒ±mƒ± ƒ∞ndir
                    </button>
                </div>
            </div>

            <!-- Canvas Alanƒ±: 3D Modelin g√∂r√ºnt√ºlendiƒüi yer -->
            <div class="canvas-area">
                <canvas id="canvas"></canvas>
                <!-- Kamera kontrol ipucu -->
                <div class="camera-hint">üñ±Ô∏è Sol tu≈ü: D√∂nd√ºr | Scroll: Yakƒ±nla≈ütƒ±r</div>
                <!-- Yakƒ±nla≈ütƒ±rma kontrolleri -->
                <div class="zoom-controls">
                    <button class="zoom-btn" onclick="zoomIn()">+</button>
                    <button class="zoom-btn" onclick="resetZoom()">‚ü≤</button>
                    <button class="zoom-btn" onclick="zoomOut()">‚àí</button>
                </div>
                <!-- Y√ºkleme spinner'ƒ± -->
                <div id="loading" class="loading">
                    <div class="spinner"></div>
                    <p>3D Model Y√ºkleniyor...</p>
                </div>
            </div>

            <!-- Tasarƒ±m Paneli (Saƒü S√ºtun): Tasarƒ±m d√ºzenleme kontrolleri ve 2D √∂nizleme alanƒ± -->
            <div class="new-design-panel" id="rightPanel">
                <!-- Panel Header -->
                <div class="panel-header">
                    <h3 class="panel-title">Tasarƒ±m St√ºdyosu</h3>
                    <div class="panel-status" id="panelStatus">
                        <span class="status-indicator active"></span>
                        <span class="status-text">Aktif</span>
                    </div>
                </div>
                
                <!-- Area Selection Tabs -->
                <div class="area-tabs-container">
                    <div class="area-tabs" id="areaTabs" role="tablist" aria-label="Tasarƒ±m alanƒ± se√ßimi">
                        <button class="area-tab active" data-area="front" onclick="switchDesignArea('front')" role="tab" aria-selected="true" aria-label="√ñn tasarƒ±m alanƒ±">
                            <span class="tab-icon">üëï</span>
                            <span class="tab-text">√ñn</span>
                        </button>
                        <button class="area-tab" data-area="back" onclick="switchDesignArea('back')" role="tab" aria-selected="false" aria-label="Arka tasarƒ±m alanƒ±">
                            <span class="tab-icon">üîÑ</span>
                            <span class="tab-text">Arka</span>
                        </button>
                        <button class="area-tab" data-area="left" onclick="switchDesignArea('left')" role="tab" aria-selected="false" aria-label="Sol kol tasarƒ±m alanƒ±">
                            <span class="tab-icon">üëà</span>
                            <span class="tab-text">Sol Kol</span>
                        </button>
                        <button class="area-tab" data-area="right" onclick="switchDesignArea('right')" role="tab" aria-selected="false" aria-label="Saƒü kol tasarƒ±m alanƒ±">
                            <span class="tab-icon">üëâ</span>
                            <span class="tab-text">Saƒü Kol</span>
                        </button>
                    </div>
                </div>
                
                <!-- Design Workspace -->
                <div class="design-workspace" id="designWorkspace">
                    <!-- Canvas Container with isolation -->
                    <div class="canvas-wrapper" id="canvasWrapper">
                        <div class="canvas-header">
                            <span class="canvas-title" id="canvasTitle">√ñN TASARIM ALANI</span>
                            <div class="canvas-controls">
                                <button class="canvas-btn" onclick="clearCurrentArea()" title="Alanƒ± Temizle">üóëÔ∏è</button>
                                <button class="canvas-btn" onclick="resetCanvasView()" title="G√∂r√ºn√ºm√º Sƒ±fƒ±rla">‚ü≤</button>
                            </div>
                        </div>
                        <div id="previewArea">
                            <div id="designPreviewContainer" class="rp-preview">
                                <canvas id="designPreviewCanvas"></canvas>
                                <div id="designElementsLayer" aria-hidden="true"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Design Elements List -->
                    <div class="elements-panel" id="elementsPanel">
                        <div class="elements-header">
                            <h4>Tasarƒ±m Elementleri</h4>
                            <span class="elements-count" id="elementsCount">0 element</span>
                        </div>
                        <div class="elements-list" id="elementsList" role="list" aria-label="Tasarƒ±m elementleri listesi">
                            <div class="no-elements-message" id="noElementsMessage">
                                <div class="message-icon">üì±</div>
                                <p>Hen√ºz tasarƒ±m eklenmedi</p>
                                <small>Sol panelden bir g√∂rsel y√ºkleyin</small>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Design Properties Panel -->
                <div class="properties-panel" id="propertiesPanel">
                    <div class="properties-header">
                        <h4>Tasarƒ±m √ñzellikleri</h4>
                        <div class="selected-indicator" id="selectedIndicator">
                            <span class="indicator-dot"></span>
                            <span class="indicator-text">Se√ßili deƒüil</span>
                        </div>
                    </div>
                    <div class="properties-content" id="propertiesContent">
                        <div class="no-selection-message" id="noSelectionMessage">
                            <p>D√ºzenlemek i√ßin bir tasarƒ±m se√ßin</p>
                        </div>
                        <div class="properties-controls" id="propertiesControls" style="display: none;">
                            <div class="control-group">
                                <label class="control-label" for="sizeControl">
                                    <span class="label-text">Boyut</span>
                                    <span class="label-value" id="sizeValue">100%</span>
                                </label>
                                <input type="range" class="control-slider modern" id="sizeControl" min="10" max="200" value="100" aria-label="Tasarƒ±m boyutu ayarlayƒ±cƒ±">
                            </div>
                            <div class="control-group">
                                <label class="control-label" for="opacityControl">
                                    <span class="label-text">Opaklƒ±k</span>
                                    <span class="label-value" id="opacityValue">100%</span>
                                </label>
                                <input type="range" class="control-slider modern" id="opacityControl" min="0" max="100" value="100" aria-label="Tasarƒ±m opaklƒ±ƒüƒ± ayarlayƒ±cƒ±">
                            </div>
                            <div class="control-group">
                                <label class="control-label" for="rotationControl">
                                    <span class="label-text">D√∂nd√ºrme</span>
                                    <span class="label-value" id="rotationValue">0¬∞</span>
                                </label>
                                <input type="range" class="control-slider modern" id="rotationControl" min="0" max="360" value="0" aria-label="Tasarƒ±m d√∂nd√ºrme ayarlayƒ±cƒ±">
                            </div>
                            <div class="control-actions">
                                <button class="action-btn delete" onclick="deleteSelectedDesign()" id="deleteBtn">
                                    <span class="btn-icon">üóëÔ∏è</span>
                                    <span class="btn-text">Sil</span>
                                </button>
                                <button class="action-btn duplicate" onclick="duplicateSelectedDesign()" id="duplicateBtn">
                                    <span class="btn-icon">üìã</span>
                                    <span class="btn-text">Kopyala</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Text Addition Panel -->
                <div class="text-panel" id="textPanel">
                    <div class="text-header">
                        <h4>Metin Ekle</h4>
                    </div>
                    <div class="text-controls">
                        <label for="textInput" class="sr-only">Metin giri≈üi</label>
                        <input type="text" id="textInput" class="text-input" placeholder="Metin girin..." aria-label="Tasarƒ±ma eklenecek metni girin">
                        <button class="text-add-btn" onclick="addTextToDesign()" aria-label="Metni tasarƒ±ma ekle">
                            <span class="btn-icon">‚ûï</span>
                            <span class="btn-text">Metin Ekle</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Three.js k√ºt√ºphanesi -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- GLTF Model Y√ºkleyici -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <!-- Orbit Kontrolleri (3D modeli fare ile d√∂nd√ºrme) -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <!-- Interact.js (2D tasarƒ±m elementlerini s√ºr√ºkleme/boyutlandƒ±rma) -->
    <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
